<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Executing lists of commands</title><link rel="stylesheet" href="obix_doc.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"><link rel="start" href="index.html" title="Obix programming language documentation"><link rel="up" href="introduction_PAIOF_framework.html" title="Chapter 4. Interacting with applications (PAIOF framework)"><link rel="prev" href="t3_output_options.html" title="Output destinations, formats and contents"><link rel="next" href="t3_web_services.html" title="Embedded web services"><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29648172-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Executing lists of commands</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="t3_output_options.html"><img src="images/prev.png" alt="Previous chapter" title="Previous chapter"></a> </td><th width="60%" align="center">Chapter 4. Interacting with applications (PAIOF framework)</th><td width="20%" align="right"> <a accesskey="n" href="t3_web_services.html"><img src="images/next.png" alt="Next chapter" title="Next chapter"></a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="t3_lists_of_commands"></a>Executing lists of commands</h2></div></div></div><p>Besides executing a single command, as shown in the previous sections, you can also execute a <span class="emphasis"><em>list</em></span> of commands.</p><p>To do this you use the PAIOF meta command <code class="code">@execute_command_list</code> or its short name <code class="code">@ecl</code>.</p><p>This meta command has a parameter to specify where the list of commands should be read from. The name of this parameter is <code class="code">@command_list_source</code>; its short name is <code class="code">@s</code>. Valid values are shown in the table below:</p><div class="table"><a name="PAIOF_command_list_source_values"></a><p class="title"><b>Table 4.4. Command list sources</b></p><div class="table-contents"><table summary="Command list sources" cellspacing="0" cellpadding="5" border="1"><colgroup><col><col></colgroup><thead><tr><th>Value</th><th>Command list is read from</th></tr></thead><tbody><tr><td>file xxx</td><td>file xxx</td></tr><tr><td>url xxx</td><td>URL xxx</td></tr><tr><td>socket xxx</td><td>socket xxx</td></tr><tr><td>in</td><td>the operating system's standard input device</td></tr><tr><td>command_line</td><td>the command line</td></tr><tr><td>env xxx</td><td>the operating system's environment variable xxx</td></tr><tr><td>clip</td><td>the operating system's clipboard</td></tr><tr><td>console</td><td>the system console</td></tr><tr><td>gui</td><td>a graphical desktop user interface</td></tr><tr><td>speech</td><td>an audio device that supports text to speech (TTS)</td></tr></tbody></table></div></div><br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">At the time of writing reading the command list from a socket or an audio device are not yet supported.</td></tr></table></div><p>A typical usage would be to store a list of commands in a text file and then let the commands be executed by PAIOF. To exemplify this proceed as follows:</p><div class="itemizedlist"><ul type="disc"><li><p>Create file <code class="code">tests/commands.txt</code> in your project's directory (<code class="code">random_arcs/</code>) with the following content:</p><pre class="programlisting">add_contribution first_name:"Jenny" last_name:"Lola" random_number:7
add_contribution first_name:"Marc" last_name:"Dupont" random_number:15
create_picture show_contributor_names: yes</pre></li><li><p>Then execute the commands in this file by typing the following system command in your project's directory:</p><pre class="programlisting">in Linux:
./run.sh @execute_command_list @command_list_source: '"file tests/commands.txt"'
in Windows:
run @execute_command_list @command_list_source: "file tests/commands.txt"</pre><p>Alternatively you can also use the short names:</p><pre class="programlisting">in Linux:
./run.sh @ecl @s: '"file tests/commands.txt"'
in Windows:
run @ecl @s: "file tests/commands.txt"</pre></li><li><p>The 3 commands are executed and the output displayed in your system console looks like this:</p><pre class="screen">Jenny Lola contributed '7' on 2012-06-19 10:00:38
Marc Dupont contributed '15' on 2012-06-19 10:00:38
Ok. The picture has been stored to file F:\reliable_code\obix\projects\random_arcs\picture.svg.</pre></li><li><p>To see the picture open file <code class="code">picture.svg</code>. You will see a picture like this:</p><div class="figure"><a name="command_list_example_picture"></a><p class="title"><b>Figure 4.3. Random arcs picture after executing a command list</b></p><div class="figure-contents"><div class="mediaobject"><img src="command_list_example.png" alt="Random arcs picture after executing a command list"></div></div></div><br class="figure-break"></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="t3_output_options.html"><img src="images/prev.png" alt="Previous chapter" title="Previous chapter"></a> </td><td width="20%" align="center"><a accesskey="u" href="introduction_PAIOF_framework.html"><img src="images/up.png" alt="Go up one level" title="Go up one level"></a></td><td width="40%" align="right"> <a accesskey="n" href="t3_web_services.html"><img src="images/next.png" alt="Next chapter" title="Next chapter"></a></td></tr><tr><td width="40%" align="left" valign="top">Output destinations, formats and contents </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Table of contents" title="Table of contents"></a></td><td width="40%" align="right" valign="top"> Embedded web services</td></tr></table></div></body></html>
