<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Using PAIOF to quickly make your application usable</title><link rel="stylesheet" href="obix_doc.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"><link rel="start" href="index.html" title="Obix programming language documentation"><link rel="up" href="introduction_PAIOF_framework.html" title="Chapter 4. Interacting with applications (PAIOF framework)"><link rel="prev" href="AIO_will_do.html" title="What we will do ..."><link rel="next" href="t3_command_line_utility.html" title="Creating a command line utility"><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29648172-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Using PAIOF to quickly make your application usable</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="AIO_will_do.html"><img src="images/prev.png" alt="Previous chapter" title="Previous chapter"></a> </td><th width="60%" align="center">Chapter 4. Interacting with applications (PAIOF framework)</th><td width="20%" align="right"> <a accesskey="n" href="t3_command_line_utility.html"><img src="images/next.png" alt="Next chapter" title="Next chapter"></a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="t3_using_PAIOF"></a>Using PAIOF to quickly make your application usable</h2></div></div></div><p>The basic idea of <span class="emphasis"><em>PAIOF</em></span> is that we define a set of <span class="emphasis"><em>PAIOF application commands</em></span> which can then be executed by <span class="emphasis"><em>PAIOF</em></span> in many different ways.</p><p>A single <span class="emphasis"><em>PAIOF application command</em></span> is defined by:</p><div class="itemizedlist"><ul type="disc"><li><p>a unique name</p></li><li><p>an optional list of input arguments</p></li><li><p>2 optional output arguments:</p><div class="itemizedlist"><ul type="circle"><li>the <code class="code">result</code> of the command</li><li>an <code class="code">error</code> that occurred during execution</li></ul></div></li></ul></div><br><div class="figure"><a name="PAIOF_application_command_picture"></a><p class="title"><b>Figure 4.1. PAIOF application command</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="420"><tr><td><img src="PAIOF_application_command.png" width="420" alt="PAIOF application command"></td></tr></table></div></div></div><br class="figure-break"><p>If we use PAIOF then an application simply consists of a set of PAIOF commands that can be executed from outside in different ways. We will explore PAIOF's capabilities in the following sections.</p><br><p>In the case of our 'random arcs' application we obviously have to define two commands for PAIOF: a command to add a user contribution and another one to create the SVG picture.</p><p>Both commands have already been written in the previous part of this tutorial. You remember: service <code class="code">contribution_list</code> contains command <code class="code">add_contribution</code> and service <code class="code">picture_creator</code> contains command <code class="code">create_picture</code>. The only thing we have to do is to tell PAIOF that these are the two commands we want to make public for users and other applications.</p><p>We will start PAIOF in service <code class="code">random_arcs_starter</code> which is the entry point of our application. Proceed as follows:</p><div class="itemizedlist"><ul type="disc"><li><p>Open file <code class="code">work/obix/source_code/random_arcs/se_random_arcs_starter.osc</code> located in your project's directory.</p></li><li><p>Change (copy-paste) the existing source code so that it looks as follows:</p><pre class="programlisting">service random_arcs_starter

   command start // this command is called when the application starts
      in command_line_arguments type:indexed_string_list voidable:yes end // arguments passed on the command line
		
      script
         // start PAIOF for service commands 'add_contribution' and 'create_picture'
         se_PAIOF.start_for_service_commands_by_regex ( &amp;
            command_line_arguments = i_command_line_arguments &amp;
            service_command_path_regex = fa_regex.create ( ".*(add_contribution|create_picture)"~ ) )
      end
   end

end</pre><p>In the above code we start PAIOF by executing command <code class="code">start_for_service_commands_by_regex</code> of service <code class="code">PAIOF</code>. This command takes two input arguments:</p><div class="itemizedlist"><ul type="circle"><li><p><code class="code">command_line_arguments</code> is a list of strings containing the arguments of the operating system's command that starts the application</p></li><li><p><code class="code">service_command_path_regex</code> is a <a href="http://en.wikipedia.org/wiki/Regular_expression" target="_top">regular expression</a> which defines the service commands that have to be managed by PAIOF.</p><p>The full service command paths in our case are:</p><pre class="programlisting">random_arcs.contribution.se_contribution_list.co_add_contribution</pre><pre class="programlisting">random_arcs.se_picture_creator.co_create_picture</pre><p>Hence we can use the regular expression <code class="code">.*(add_contribution|create_picture)</code></p></li></ul></div></li><li><p>Compile and build the application again by executing <code class="code">compile_and_build</code>.</p></li></ul></div><p>That's it!</p><p>You are now ready to explore PAIOF.</p><p>In the next chapters we will look at some practical examples in order to get an idea of the many things you can now easily do without further programming.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="AIO_will_do.html"><img src="images/prev.png" alt="Previous chapter" title="Previous chapter"></a> </td><td width="20%" align="center"><a accesskey="u" href="introduction_PAIOF_framework.html"><img src="images/up.png" alt="Go up one level" title="Go up one level"></a></td><td width="40%" align="right"> <a accesskey="n" href="t3_command_line_utility.html"><img src="images/next.png" alt="Next chapter" title="Next chapter"></a></td></tr><tr><td width="40%" align="left" valign="top">What we will do ... </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Table of contents" title="Table of contents"></a></td><td width="40%" align="right" valign="top"> Creating a command line utility</td></tr></table></div></body></html>
