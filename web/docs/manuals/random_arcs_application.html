<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 7. The 'Random arcs' application</title><link rel="stylesheet" href="obix_doc.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"><link rel="start" href="index.html" title="Obix programming language documentation"><link rel="up" href="tutorial_part_2.html" title="Part II. Basic concepts and concepts for more reliable code"><link rel="prev" href="tutorial_part_2.html" title="Part II. Basic concepts and concepts for more reliable code"><link rel="next" href="t2_create_objects.html" title="Step 2: Creating objects"><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29648172-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 7. The 'Random arcs' application</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tutorial_part_2.html">Prev</a> </td><th width="60%" align="center">Part II. Basic concepts and concepts for more reliable code</th><td width="20%" align="right"> <a accesskey="n" href="t2_create_objects.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="random_arcs_application"></a>Chapter 7. The 'Random arcs' application</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="random_arcs_application.html#t2_create_application">Step 1: Create a new application</a></span></dt><dt><span class="section"><a href="t2_create_objects.html">Step 2: Creating objects</a></span></dt><dt><span class="section"><a href="t2_unit_testing.html">Step 3: Unit testing</a></span></dt><dt><span class="section"><a href="t2_advantages.html">Advantages (so far)</a></span></dt><dt><span class="section"><a href="t2_more_reliable_objects.html">Step 4: Making data more reliable and secure</a></span></dt><dt><span class="section"><a href="t2_object_conversion.html">Step 5: Object conversions and error handling</a></span></dt><dt><span class="section"><a href="t2_file_io.html">Step 6: File input/output</a></span></dt><dt><span class="section"><a href="t2_create_picture.html">Step 7: Creating the 'random arcs' picture</a></span></dt><dt><span class="section"><a href="t2_test_application.html">Step 8: Testing the application</a></span></dt></dl></div><p>We are now going to write an application that creates a picture based on random data provided by people. The picture will be composed of adjacent 90 degrees arcs with different radii and colors. Here is an example of the final result:</p><div class="figure"><a name="arcs_example_1"></a><p class="title"><b>Figure 7.1. Obix programming language random arcs tutorial example</b></p><div class="figure-contents"><div class="mediaobject"><img src="arcs_example_1.jpg" alt="Obix programming language random arcs tutorial example"></div></div></div><br class="figure-break"><p>The arcs' radii will be based on data provided by users of the application. A single user input for one arc is called a <code class="code">contribution</code> and is composed of:</p><div class="itemizedlist"><ul type="disc"><li>a numerical identifier (autoincrement)</li><li>the first name and last name of the contributor</li><li>a random value used to calculate a radius, ranging from 1 to 15</li><li>the date and time the contribution was submitted</li></ul></div><p>The application will be able to collect contributions directly submitted by users (e.g. via a web site) and/or by other applications (e.g. via a HTTP request). All contributions will be saved in a <a href="http://en.wikipedia.org/wiki/JSON" target="_top">JSON</a> text file.</p><p>The arcs' colors will be defined by a random generator.</p><p>The final picture will be created in the <a href="http://en.wikipedia.org/wiki/Scalable_Vector_Graphics" target="_top">Scalable Vector Graphics</a> (SVG) format and stored in a file.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">This application clearly doesn't belong to the category <span class="emphasis"><em>'life saving applications'</em></span>. Despite this fact we will nevertheless write <span class="emphasis"><em>reliable</em></span> code. User input data can be invalid or malicious, and resources like files can fail at runtime. Therefore, invalid data protection and resource error handling will play a very important role in the following chapters. The objective is to see how to write professional, reliable applications.</td></tr></table></div><br><p>To develop this application you will do the following:</p><div class="orderedlist"><ol type="1"><li>Create a new application</li><li>Write code to create <code class="code">contribution</code> objects</li><li>Write unit tests (to detect bugs)</li><li>Make data more reliable and secure (!)</li><li>Convert objects to (and re-create them from) <a href="http://en.wikipedia.org/wiki/JSON" target="_top">JSON</a></li><li>Use files to store/restore data</li><li>Create the 'random arcs' picture and save it in a <code class="code">SVG</code> file</li><li>Run the application with test data (and hopefully enjoy beautil drawings)</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">The full project with source code is included in the <a href="http://www.rps-obix.com/downloads/system/license_agree.html" target="_top">Obix download</a>. It is located in subdirectory <code class="code">projects/pr_ex_21_random_arcs/.</code></td></tr></table></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="t2_create_application"></a>Step 1: Create a new application</h2></div></div></div><p>To create the 'random arcs' application proceed as follows:</p><div class="itemizedlist"><ul type="disc"><li><p>Open a system console (a text terminal in Linux, or a command line window in Windows).</p></li><li><p>Go to the root directory of your Obix installation.</p></li><li><p>Create a new project named <code class="code">random_arcs</code> by entering the following command:</p><pre class="programlisting">on Linux type:
./obix.sh create_project project_id:random_arcs kind:java

on Windows type:
obix create_project project_id:random_arcs kind:java</pre><p>Obix creates a directory named <code class="code">pr_random_arcs</code> in subdirectory <code class="code">projects</code> of your Obix installation (e.g. <code class="code">obix-0.7.5/projects/pr_random_arcs</code>)</p></li></ul></div><p>If you need more information please look at the <code class="code">README.TXT</code> file in the project's root directory or refer to the previous <a href="pc_application.html" title="Chapter 4. How to develop a standard PC application?">Chapter 4, <i>How to develop a standard PC application?</i></a>.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tutorial_part_2.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="tutorial_part_2.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="t2_create_objects.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Part II. Basic concepts and concepts for more reliable code </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Step 2: Creating objects</td></tr></table></div></body></html>
