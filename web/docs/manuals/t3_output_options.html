<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Output destinations, formats and contents</title><link rel="stylesheet" href="obix_doc.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"><link rel="start" href="index.html" title="Obix programming language documentation"><link rel="up" href="introduction_PAIOF_framework.html" title="Chapter 4. Interacting with applications (PAIOF framework)"><link rel="prev" href="t3_input_sources.html" title="Getting input values from different sources"><link rel="next" href="t3_lists_of_commands.html" title="Executing lists of commands"><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29648172-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Output destinations, formats and contents</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="t3_input_sources.html"><img src="images/prev.png" alt="Previous chapter" title="Previous chapter"></a> </td><th width="60%" align="center">Chapter 4. Interacting with applications (PAIOF framework)</th><td width="20%" align="right"> <a accesskey="n" href="t3_lists_of_commands.html"><img src="images/next.png" alt="Next chapter" title="Next chapter"></a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="t3_output_options"></a>Output destinations, formats and contents</h2></div></div></div><p>While the previous chapter showed different ways to get <span class="emphasis"><em>input</em></span> values for an application command we will now see which <span class="emphasis"><em>output</em></span> options are supported.</p><p>There are 3 kinds of output options you can define:</p><div class="orderedlist"><ol type="1"><li><p>the destination of output (i.e. where the output is written to)</p></li><li><p>the format used for the output data</p></li><li><p>the content level (the level of details you want to output)</p></li></ol></div><br><p>The <span class="emphasis"><em>destination</em></span> is defined by the meta-parameter <code class="code">@destination</code> (or its short name <code class="code">@d</code>). The following values are valid:</p><div class="table"><a name="PAIOF_output_destination_values"></a><p class="title"><b>Table 4.1. Output destination values</b></p><div class="table-contents"><table summary="Output destination values" cellspacing="0" cellpadding="5" border="1"><colgroup><col><col></colgroup><thead><tr><th>Value</th><th>Output is written to</th></tr></thead><tbody><tr><td>con</td><td>the system console</td></tr><tr><td>out</td><td>the operating system's standard output device</td></tr><tr><td>err</td><td>the operating system's standard error device</td></tr><tr><td>clip</td><td>the operating system's clipboard</td></tr><tr><td>create_file xxx<br>append_to_file xxx<br>replace_file xxx<br>create_or_append_to_file xxx<br>create_or_replace_file xxx</td><td>file xxx</td></tr><tr><td>url xxx</td><td>URL xxx</td></tr><tr><td>gui</td><td>a graphical desktop user interface</td></tr><tr><td>http</td><td>the HTTP response (used in case of a web service)</td></tr><tr><td>socket xxx</td><td>socket xxx</td></tr><tr><td>speech</td><td>an audio device that supports text to speech (TTS)</td></tr></tbody></table></div></div><br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">At the time of writing sending output to a URL, a socket, or an audio device are not yet supported.</td></tr></table></div><br><p>The <span class="emphasis"><em>format</em></span> of the output data is defined by the meta-parameter <code class="code">@format</code> (or its short name <code class="code">@f</code>). The following values are supported:</p><div class="table"><a name="PAIOF_output_format_values"></a><p class="title"><b>Table 4.2. Output format values</b></p><div class="table-contents"><table summary="Output format values" cellspacing="0" cellpadding="5" border="1"><colgroup><col><col></colgroup><thead><tr><th>Value</th><th>Output format</th></tr></thead><tbody><tr><td>str</td><td>a string</td></tr><tr><td>json</td><td><a href="http://en.wikipedia.org/wiki/JSON" target="_top">JSON</a></td></tr><tr><td>xml</td><td>an <a href="http://en.wikipedia.org/wiki/XML" target="_top">XML</a> snippet (without XML header)</td></tr><tr><td>xmld</td><td>an <a href="http://en.wikipedia.org/wiki/XML" target="_top">XML</a> document</td></tr><tr><td>html</td><td>a <a href="http://en.wikipedia.org/wiki/Html" target="_top">HTML</a> snippet (without HTML page header/footer tags)</td></tr><tr><td>htmlp</td><td>a <a href="http://en.wikipedia.org/wiki/Html" target="_top">HTML</a> page</td></tr></tbody></table></div></div><br class="table-break"><br><p>Finally you can define the <span class="emphasis"><em>content</em></span> level, that is to say how much information about the data you want. This is defined by the meta-parameter <code class="code">@content</code> (or its short name <code class="code">@c</code>). The following values are supported:</p><div class="table"><a name="PAIOF_output_content_values"></a><p class="title"><b>Table 4.3. Output content values</b></p><div class="table-contents"><table summary="Output content values" cellspacing="0" cellpadding="5" border="1"><colgroup><col><col></colgroup><thead><tr><th>Value</th><th>Output content level</th></tr></thead><tbody><tr><td>n</td><td>nothing<br>no data (i.e. the output is hidden)</td></tr><tr><td>yn</td><td>yes or no<br>If the output object is not <code class="code">void</code> then <code class="code">yes</code> will be output, else <code class="code">no</code></td></tr><tr><td>str</td><td>string<br>a string describing the object</td></tr><tr><td>obj</td><td>object<br>complete data of the object (e.g. form, table or tree view)</td></tr></tbody></table></div></div><br class="table-break"><br><p>Let's play around with some values to see how it works.</p><p>By default, if no output options are specified, output is written as a string to the operating system's standard output device:</p><pre class="programlisting">run add_contribution first_name:"foo" last_name:"bar" random_number:11</pre><p>In this case PAIOF uses the object's <code class="code">to_string</code> command to convert it into a string and writes the result to the standard output device:</p><pre class="screen">foo bar contributed '11' on 2012-05-16 12:50:31</pre><br><p>To get the result formatted in JSON type:</p><pre class="programlisting">run add_contribution first_name:"foo" last_name:"bar" random_number:11 @format:json</pre><p>The output will be:</p><pre class="screen">{"Result":"foo bar contributed '11' on 2012-05-18 13:11:23"}</pre><br><p>To get the object's data structure (i.e. a list of all attributes) in JSON type:</p><pre class="programlisting">run add_contribution first_name:"foo" last_name:"bar" random_number:11 @format:json @content:obj</pre><p>This outputs the value of each attribute:</p><pre class="screen">{"Result":{
   "identifier":344,
   "first_name":"foo",
   "last_name":"bar",
   "random_number":11,
   "date_time":"2012-05-18 13:11:59"}
}</pre><br><p>To write the result into an XML file (and use the short names for the meta-parameters) type:</p><pre class="programlisting">in Linux:
./run.sh add_contribution first_name:"foo" last_name:"bar" random_number:11 @d: '"create_or_replace_file tests/result.xml"' @f:xmld @c:obj
in Windows:
run add_contribution first_name:"foo" last_name:"bar" random_number:11 @d: "create_or_replace_file tests/result.xml" @f:xmld @c:obj</pre><p>The file's content looks like this:</p><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Result&gt;
   &lt;object&gt;
      &lt;attribute id="identifier"&gt;349&lt;/attribute&gt;
      &lt;attribute id="first_name"&gt;&lt;![CDATA[foo]]&gt;&lt;/attribute&gt;
      &lt;attribute id="last_name"&gt;&lt;![CDATA[bar]]&gt;&lt;/attribute&gt;
      &lt;attribute id="random_number"&gt;11&lt;/attribute&gt;
      &lt;attribute id="date_time"&gt;2012-05-18 13:24:47&lt;/attribute&gt;
   &lt;/object&gt;
&lt;/Result&gt;</pre><br><p>You can combine input and output options in a single instruction. For instance, to prompt for input values in a GUI and display the result object in another GUI type:</p><pre class="programlisting">run add_contribution @i:gui @d:gui @c:obj</pre><br><p>Feel free to play around with other values to test more combinations!</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="t3_input_sources.html"><img src="images/prev.png" alt="Previous chapter" title="Previous chapter"></a> </td><td width="20%" align="center"><a accesskey="u" href="introduction_PAIOF_framework.html"><img src="images/up.png" alt="Go up one level" title="Go up one level"></a></td><td width="40%" align="right"> <a accesskey="n" href="t3_lists_of_commands.html"><img src="images/next.png" alt="Next chapter" title="Next chapter"></a></td></tr><tr><td width="40%" align="left" valign="top">Getting input values from different sources </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Table of contents" title="Table of contents"></a></td><td width="40%" align="right" valign="top"> Executing lists of commands</td></tr></table></div></body></html>
