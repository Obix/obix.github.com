<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 2. Different ways to create and execute code</title><link rel="stylesheet" href="obix_doc.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"><link rel="start" href="index.html" title="Obix programming language documentation"><link rel="up" href="tutorial_part_2.html" title="Part II. Versatility"><link rel="prev" href="tutorial_part_2.html" title="Part II. Versatility"><link rel="next" href="execute_script.html" title="Executing Obix script files"><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29648172-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 2. Different ways to create and execute code</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tutorial_part_2.html"><img src="images/prev.png" alt="Previous chapter" title="Previous chapter"></a> </td><th width="60%" align="center">Part II. Versatility</th><td width="20%" align="right"> <a accesskey="n" href="execute_script.html"><img src="images/next.png" alt="Next chapter" title="Next chapter"></a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="create_execute_code"></a>Chapter 2. Different ways to create and execute code</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="create_execute_code.html#execute_instruction">Executing a single instruction</a></span></dt><dt><span class="section"><a href="execute_script.html">Executing Obix script files</a></span></dt><dt><span class="section"><a href="execute_java_script.html">Executing Java source code in an Obix script</a></span></dt><dt><span class="section"><a href="pc_application.html">Developing a standalone PC application</a></span></dt><dt><span class="section"><a href="web_application.html">Developing a web application</a></span></dt><dd><dl><dt><span class="section"><a href="web_application.html#web_application_overview">Overview</a></span></dt><dt><span class="section"><a href="web_application_servlet.html">Servlet web application</a></span></dt><dt><span class="section"><a href="web_application_JSP.html">JSP web application</a></span></dt><dt><span class="section"><a href="web_application_further_info.html">Further information</a></span></dt></dl></dd><dt><span class="section"><a href="obix_console.html">The <span class="emphasis"><em>Obix developer console</em></span></a></span></dt></dl></div><p>In order to satisfy the different needs for executing code in practice (ranging from executing a single instruction up to developing a complex web application), you can do the following:</p><div class="itemizedlist"><ul type="disc"><li><p>execute a single instruction or evaluate a single expression entered in a system terminal or in Obix's developer console.</p></li><li><p>execute a script contained in a text file (without the need to create a project or application).</p></li><li><p>create a standalone application run on a system that supports Java (for example a command line utility, a console input/output application or a desktop application with graphical user interface).</p></li><li><p>create a web application based on Java's servlet and/or JSP technology and using any existing Java software.</p></li><li><p>create a web application and/or a command line utility with Obix's PAIOF framework (described <a href="introduction_PAIOF_framework.html#t3_application_input_output_interfaces" title="Application input output interfaces">later</a>).</p></li></ul></div><p>Greatest care has been taken to make it <span class="emphasis"><em>easy</em></span> to accomplish these tasks. Besides Java and Obix installed on your system, you only need a text editor. In case of a web application you also need a Java servlet compliant web server such as Tomcat or Jetty.</p><p>To see how this works in practice we are now going to write one of the simplest imaginable programs: the famous <a href="http://en.wikipedia.org/wiki/Hello_world_program" target="_top"><code class="code">Hello world</code></a> program, introduced in 1974 by Brian Kernighan in his book <em class="citetitle">Programming in C: A Tutorial.</em></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><div class="itemizedlist"><ul type="disc"><li><p>All examples shown in the following chapters are installed in the <code class="code">examples</code> subdirectory of your Obix installation. The <code class="code">Hello world</code> example directories all start with <code class="code">hello_</code>.</p></li><li><p>If you are more interested in seeing how to write a reliable application (instead of just looking at 'Hello World' examples) you can <a href="tutorial_part_3.html" title="Part III. Reliability">skip this chapter</a> and read it later.</p></li></ul></div></td></tr></table></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="execute_instruction"></a>Executing a single instruction</h2></div></div></div><p>To display <code class="code">Hello world</code> on the system console we can use the following instruction in Obix:</p><pre class="programlisting">system.console.write_line ( "Hello world" )</pre><br><p>A single instruction can be executed by entering a command in an operating system terminal. To do this, proceed as follows:</p><div class="itemizedlist"><ul type="disc"><li><p>Open a system console (a text terminal in Unix-like systems, or a command line window in Windows)</p></li><li><p>Enter the following command:</p><pre class="programlisting">obix execute_instruction "system.console.write_line ( \"Hello world\" )"</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">On Unix-like systems (Linux, Mac OS X, etc.) you can also type:
			<pre class="programlisting">obix execute_instruction 'system.console.write_line ( "Hello world" )'</pre></td></tr></table></div><p>After hitting the <code class="code">Enter</code> key the console displays:</p><pre class="screen">Hello world</pre><p>On Unix-like systems your screen looks like this:</p><pre class="screen">[albert@school obix]$ obix execute_instruction 'system.console.write_line ( "Hello world" )'
Hello world
[albert@school obix]$</pre><p>And this is how it looks like on Windows:</p><pre class="screen">C:\tests\obix\&gt;obix execute_instruction "system.console.write_line ( \"Hello world\" )"
Hello world
C:\tests\obix\&gt;</pre></li></ul></div><p>In the above example we launch Obix and provide two command line arguments. The first argument, <code class="code">execute_instruction</code>, specifies the name of a command to be executed by Obix. The second argument specifies the instruction to be executed.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><div class="itemizedlist"><ul type="disc"><li><p>Instead of writing <code class="code">execute_instruction</code> you can also simply write <code class="code">ei</code>, which is a short name, or abbreviation, for <code class="code">execute_instruction</code>. Most commands in Obix have a long name for best readability (to be used in operating system script files, for example), and a short name equivalent for quickly typing commands.</p></li><li><p>The above system command takes some time to execute, because the Obix environment has to be loaded, and the source code has to be translated into Java binary code. Later in this tutorial, you'll see how to write code that executes much faster.</p></li><li><p>From now on we will use the term 'Unix' instead of 'Unix-like system'. All instructions given for Unix are also valid for Unix-like systems such as Linux, Mac OS X, etc.</p></li></ul></div></td></tr></table></div><br><p>Besides executing an instruction to display <code class="code">Hello world</code>, you can also evaluate an expression by using Obix's <code class="code">evaluate</code> command (or its short name <code class="code">ev</code>). In our case the expression is just a simple string literal. Hence, you can execute the following command in your operating system console:</p><pre class="programlisting">obix evaluate "\"Hello world\""</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">On Unix you can also type:
		<pre class="programlisting">obix evaluate '"Hello world"'</pre></td></tr></table></div><p>The result of evaluating an expression is always sent to the system's <code class="code">out</code> device. By default, the system's <code class="code">out</code> device is the system console. Therefore, executing the above instruction displays <code class="code">Hello world</code> on the system console.</p><p>To store the result of the expression in file <code class="code">tests/hello.txt</code>, you can redirect the operating system's <code class="code">out</code> device. First, create a subdirectory <code class="code">tests</code>. Then use the operating system's redirection symbol <code class="code">&gt;</code> to redirect Obix's output. Finally, display the file's content on the screen:</p><pre class="programlisting">on Unix, type:
mkdir tests
obix evaluate '"Hello world"' &gt; tests/hello.txt
cat tests/hello.txt

on Windows, type:
md tests
obix evaluate "\"Hello world\"" &gt; tests\hello.txt
type tests\hello.txt</pre><br><p>Just to give you a taste of what else you can do, here are some more examples:</p><div class="itemizedlist"><ul type="disc"><li><p>display the result of an arithmetic expression:</p><pre class="programlisting">obix evaluate "(314+218)*17"</pre><p>or</p><pre class="programlisting">obix ev "(314+218)*17"</pre></li><li><p>append the name of the currently logged-in user to a text file:</p><pre class="programlisting">obix ev "system.user_name" &gt;&gt; tests\user_names.txt</pre></li><li><p>replace all uppercase letters in file <code class="code">text_file.txt</code> with lowercase letters and store the result in file <code class="code">lowercase.txt</code>:</p><p>(first create file <code class="code">text_file.txt</code> in subdirectory <code class="code">tests</code> and insert some text with lowercase and uppercase letters, then execute the following command)</p><pre class="programlisting">obix ei "system.out.write ( system.in.read_all.result.to_lower_case )" &lt; tests/text_file.txt &gt; tests/lowercase.txt</pre></li></ul></div><br><p>You can of course do more than just executing a single instruction or evaluating an expression. The next level of executing code is to execute a <span class="emphasis"><em>set</em></span> of instructions, as explained in the following chapter.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tutorial_part_2.html"><img src="images/prev.png" alt="Previous chapter" title="Previous chapter"></a> </td><td width="20%" align="center"><a accesskey="u" href="tutorial_part_2.html"><img src="images/up.png" alt="Go up one level" title="Go up one level"></a></td><td width="40%" align="right"> <a accesskey="n" href="execute_script.html"><img src="images/next.png" alt="Next chapter" title="Next chapter"></a></td></tr><tr><td width="40%" align="left" valign="top">Part II. Versatility </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Table of contents" title="Table of contents"></a></td><td width="40%" align="right" valign="top"> Executing Obix script files</td></tr></table></div></body></html>
