<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Bonus 1: Adding a web interface to directly manipulate database tables</title><link rel="stylesheet" href="obix_doc.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"><link rel="start" href="index.html" title="Obix programming language documentation"><link rel="up" href="CRUD_application.html" title="Chapter 1. Creating a web application with data stored in a database"><link rel="prev" href="CRUD_task_web_interface.html" title="Step 4: Creating a web interface to manage tasks"><link rel="next" href="CRUD_task_CLI.html" title="Bonus 2: Creating a command line utility to manage tasks in a terminal window"><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29648172-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Bonus 1: Adding a web interface to directly manipulate database tables</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="CRUD_task_web_interface.html"><img src="images/prev.png" alt="Previous chapter" title="Previous chapter"></a> </td><th width="60%" align="center">Chapter 1. Creating a web application with data stored in a database</th><td width="20%" align="right"> <a accesskey="n" href="CRUD_task_CLI.html"><img src="images/next.png" alt="Next chapter" title="Next chapter"></a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="CRUD_task_DBI"></a>Bonus 1: Adding a web interface to directly manipulate database tables</h2></div></div></div><p>The <a href="http://en.wikipedia.org/wiki/H2_%28DBMS%29" target="_top">H2 database</a> (which we use in this project) is delivered with an embedded web application that allows you to directly explore and manipulate the data stored in your database tables. This is a nice utility which you will probably not enable for end users, but which is extremely useful during development (and later) for testing, debugging and remote assistance.</p><p>Therefore Obix's standard library contains the service command <code class="code">H2_database_utilities.start_H2_servers_in_same_process</code>. Executing this command starts H2's web server and  activates the data manipulation web interface.</p><p>Because <span class="emphasis"><em>any</em></span> Obix command can be used by PAIOF (including those in Obix's standard libraries), adding this H2 utility to the to-do list application is just a matter of adding <code class="code">start_H2_servers_in_same_process</code> to the list of commands managed by PAIOF. You can do this as follows:</p><div class="itemizedlist"><ul type="disc"><li><p>Open file <code class="code">work/obix/source_code/to_do_list/se_to_do_list_starter.osc</code> and replace the following instruction:</p><pre class="programlisting">se_PAIOF.start_for_service_commands_by_regex ( &amp;
   command_line_arguments = i_command_line_arguments &amp;
   service_command_path_regex = fa_regex.create ( ".*se_task_commands.*"~ ) )</pre><p>with this one:</p><pre class="programlisting">se_PAIOF.start_for_service_commands_by_regex ( &amp;
   command_line_arguments = i_command_line_arguments &amp;
   service_command_path_regex = fa_regex.create ( ".*se_task_commands.*|.*start_H2_servers_in_same_process"~ ) )</pre></li></ul></div><p>Now you can explore the data-manipulator:</p><div class="itemizedlist"><ul type="disc"><li><p>If an Obix web server is still running then stop it (by typing CTRL-C in the system console)</p></li><li><p>Compile and build your project</p></li><li><p>Start the web server again by typing the following command from within the root directory of your project:</p><pre class="programlisting">on Linux type:
./run.sh @sws
on Windows type:
run @sws</pre></li><li><p>Reload the URL (e.g. <code class="code">http://127.0.0.1/</code>) in your browser</p></li><li><p>Create some tasks</p></li><li><p>Select command <code class="code">start_H2_servers_in_same_process</code> and click the button <code class="code">Start H2 servers in same process</code></p><p>A new tab will open in your browser. Enter the database-connection values as shown below:</p><div class="figure"><a name="H2_login"></a><p class="title"><b>Figure 1.4. Connection to H2 database</b></p><div class="figure-contents"><div class="mediaobject"><img src="H2_login.jpg" alt="Connection to H2 database"></div></div></div><br class="figure-break"></li><li><p>Click on button <code class="code">Connect</code></p></li></ul></div><p>Now you can play around with the H2 application to select, create, update and delete tasks. Here is an example of how the H2 application looks like:</p><div class="figure"><a name="H2_web_interface"></a><p class="title"><b>Figure 1.5. Manipulating database tables with H2</b></p><div class="figure-contents"><div class="mediaobject"><img src="H2_web_interface.jpg" alt="Manipulating database tables with H2"></div></div></div><br class="figure-break"><p>Note that after manipulating data in table <code class="code">tasks</code> you can immediately see the data changes when you switch back to the PAIOF interface. The inverse is true also: You can manage your tasks with the PAIOF interface and then examine the changes in the tables with the H2 application (after retrieving the data again). </p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="CRUD_task_web_interface.html"><img src="images/prev.png" alt="Previous chapter" title="Previous chapter"></a> </td><td width="20%" align="center"><a accesskey="u" href="CRUD_application.html"><img src="images/up.png" alt="Go up one level" title="Go up one level"></a></td><td width="40%" align="right"> <a accesskey="n" href="CRUD_task_CLI.html"><img src="images/next.png" alt="Next chapter" title="Next chapter"></a></td></tr><tr><td width="40%" align="left" valign="top">Step 4: Creating a web interface to manage tasks </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Table of contents" title="Table of contents"></a></td><td width="40%" align="right" valign="top"> Bonus 2: Creating a command line utility to manage tasks in a terminal window</td></tr></table></div></body></html>
